<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Pacientes - ACS</title>
<style>
  body {font-family: Arial, sans-serif;background: #f0f8ff;margin: 0;padding: 1rem;}
  header {background: #004080;color: white;padding: 1rem;text-align: center;}
  header nav a {color: white;margin: 0 1rem;text-decoration: none;}
  header nav a:hover {text-decoration: underline;}
  .form-container, .table-container {background: #fff;padding: 1rem;border-radius: 8px;margin: 1rem auto;max-width: 800px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);}
  label {display: block;margin-top: 0.5rem;font-weight: bold;color: #003366;}
  input {width: 100%;padding: 0.4rem;margin-top: 0.2rem;border: 1px solid #ccc;border-radius: 4px;}
  button {margin-top: 0.8rem;padding: 0.6rem 1rem;border: none;border-radius: 4px;background: #004080;color: white;cursor: pointer;}
  button:hover {background: #003366;}
  table {width: 100%;border-collapse: collapse;margin-top: 0.5rem;}
  th, td {border: 1px solid #ccc;padding: 0.6rem;text-align: left;}
  th {background: #e6f2ff;}
  .btn-edit {background: #2e8b57;margin-right: 0.3rem;}
  .btn-delete {background: #b22222;}
  .btn-edit:hover {background: #246b45;}
  .btn-delete:hover {background: #8b1a1a;}
</style>
</head>
<body>
<header>
  <h1>Cadastro de Pacientes</h1>
  <nav><a href="login.html">Sair</a></nav>
</header>
<div class="form-container">
  <form id="pacienteForm">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" required>
    <label for="idade">Idade:</label>
    <input type="number" id="idade" required>
    <label for="endereco">Endereço:</label>
    <input type="text" id="endereco" required>
    <button type="submit">Salvar</button>
  </form>
</div>
<div class="table-container">
  <h2>Lista de Pacientes</h2>
  <table id="tabelaPacientes">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Idade</th>
        <th>Endereço</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>
<script>
  const form = document.getElementById('pacienteForm');
  const tabela = document.getElementById('tabelaPacientes').querySelector('tbody');
  let pacientes = [];
  let editIndex = null;

  form.addEventListener('submit', function(event) {
    event.preventDefault();
    const nome = document.getElementById('nome').value.trim();
    const idade = document.getElementById('idade').value.trim();
    const endereco = document.getElementById('endereco').value.trim();

    if (editIndex === null) {
      pacientes.push({ nome, idade, endereco });
    } else {
      pacientes[editIndex] = { nome, idade, endereco };
      editIndex = null;
    }
    form.reset();
    renderTabela();
  });

  function renderTabela() {
    tabela.innerHTML = '';
    pacientes.forEach((paciente, index) => {
      const row = tabela.insertRow();
      row.insertCell(0).textContent = paciente.nome;
      row.insertCell(1).textContent = paciente.idade;
      row.insertCell(2).textContent = paciente.endereco;

      const cellAcoes = row.insertCell(3);
      const btnEdit = document.createElement('button');
      btnEdit.textContent = 'Editar';
      btnEdit.classList.add('btn-edit');
      btnEdit.onclick = () => editarPaciente(index);

      const btnDelete = document.createElement('button');
      btnDelete.textContent = 'Apagar';
      btnDelete.classList.add('btn-delete');
      btnDelete.onclick = () => apagarPaciente(index);

      cellAcoes.appendChild(btnEdit);
      cellAcoes.appendChild(btnDelete);
    });
  }

  function editarPaciente(index) {
    document.getElementById('nome').value = pacientes[index].nome;
    document.getElementById('idade').value = pacientes[index].idade;
    document.getElementById('endereco').value = pacientes[index].endereco;
    editIndex = index;
  }

  function apagarPaciente(index) {
    if (confirm("Tem certeza que deseja apagar este paciente?")) {
      pacientes.splice(index, 1);
      renderTabela();
    }
  }
</script>
</body>
</html>